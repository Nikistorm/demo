{"version":3,"sources":["webpack:///src/components/DragonStorm.vue","webpack:///./src/components/DragonStorm.vue?a434","webpack:///./src/components/DragonStorm.vue","webpack:///./src/main.js"],"names":["DragonStorm","name","data","title","game","isLandscape","iosUrl","androidUrl","userAgent","mounted","this","setAgent","checkAPI","methods","loadFont","FontFaceObserver","load","then","console","log","navigator","vendor","test","document","self","MRaidReadyCallback","mraid","addEventListener","viewable","showPlayable","onReadyCallback","adVisibleCallback","event","isViewable","dapi","getScreenSize","getAudioVolume","adResizeCallback","width","height","removeEventListener","getState","isReady","init","_this6","_getCanvasSize","getCanvasSize","canvasWidth","canvasHeight","personData","username","desc","gameScene","phaser_default","a","Class","Extends","Scene","initialize","call","key","mainBodyX","nextBodyX","prevBodyX","personIndex","selectedNum","selectedPerson","status","preload","_this","forEach","img","image","audio","srcName","frameWidth","frameHeight","item","spritesheet","create","_this2","sound","add","bg","setOrigin","platform","main_wing","main_body","next_wing","next_body","button_like","sprite","button_unlike","progress_wrap","progress_inner","text_favor","text","fontSize","color","fontFamily","text_tip","text_like","text_unlike","banner_wrap","particles","progress_g","fillStyle","bannerCont","container","userdesc","align","dragon","banner_line","hand","setScale","endCont","setVisible","end_bg","end_btn_0","end_btn_1","word_start","word_again","end_btn_00","end_btn_01","logo","endMain","setClickable","refreshGame","scale","on","resize","setInteractive","handleUserSelect","start_tween","_gsap_3_3_4_gsap","delay","from","alpha","y","addLabel","x","to","yoyo","repeat","repeatDelay","showEnd","_this3","cameras","main","fadeIn","setFrame","setText","setTint","val","idx","person","end_timeline","list","option","_this4","play","visible","disableInteractive","onComplete","mainEnd","nextStart","push","rect","getBounds","left","centerY","emitter","createEmitter","frame","speed","quantity","follow","lifespan","start","end","deathCallback","fillRect","top","stop","destroy","fromTo","onRepeat","ease","onStart","time","delayedCall","bind","update","t","delta","gameSize","cw","ch","isLand","setPosition","setDisplaySize","beginPath","setMask","createGeometryMask","_this5","linkAppStore","_config","type","AUTO","parent","Scale","None","autoCenter","scene","pixelArt","Game","window","w","body","clientWidth","h","clientHeight","layoutWidth","layoutHeight","gameRatio","url","postMessage","install","openAppStore","openStoreUrl","FbPlayableAd","onCTAClick","open","location","components_DragonStorm","render","$createElement","_self","_c","_m","staticRenderFns","_h","attrs","id","src_components_DragonStorm","__webpack_require__","normalizeComponent","ssrContext","Vue","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.f09e0db05058cb950c03.js","sourcesContent":["\n<template>\n    <div id=\"main\">\n        <div id=\"canvas\"></div>\n    </div>\n</template>\n\n<script>\nimport Phaser from 'phaser'\n// import FontFaceObserver from 'FontFaceObserver'\n// import CONFIG from '../assets/js/luckycoin_scratch'\n// import VConsole from 'vconsole/dist/vconsole.min.js'\nimport {TweenMax,TimelineMax} from 'gsap'\nexport default{\n    name:'luckycoins',\n    data(){\n        return{\n            title: 'DragonStorm',\n            game: null,\n            isLandscape: false,\n            iosUrl: 'https://play.google.com/store/apps/details?id=com.dsfgland.goat&hl=zh',\n            androidUrl: 'https://play.google.com/store/apps/details?id=com.dsfgland.goat&hl=zh',\n            userAgent: '',\n        }\n    },\n    mounted(){\n        // let vConsole = new VConsole()\n        // this.loadFont()\n        this.setAgent()\n        this.checkAPI()\n        \n    },\n    methods:{\n        loadFont() {\n            let font = new FontFaceObserver('PassionOne')\n            font.load().then(function () {\n                console.log('font has loaded')\n            })\n        },\n        setAgent() {\n            let userAgent = navigator.userAgent || navigator.vendor\n            if (/(iPhone|iPad|iPod|iOS)/i.test(userAgent)) {\n            this.userAgent = 'ios'\n            } else {\n            this.userAgent = 'android'\n            }\n            console.log(`%c USER_AGENT: %c ${this.userAgent} `, 'color:#008080', 'background:#008080;color:#fff;font-size:16px;')\n            document.title = this.title\n        },\n        checkAPI() {\n            console.log('gameStart')\n            let self = this\n            if (\"undefined\" != typeof mraid) {\n                \"loading\" === mraid.getState() ? mraid.addEventListener(\"ready\", MRaidReadyCallback) : MRaidReadyCallback()\n            }else if(\"undefined\" != typeof dapi){\n                (dapi.isReady()) ? onReadyCallback() : dapi.addEventListener(\"ready\", onReadyCallback);\n                self.showPlayable();\n            }else{\n                self.showPlayable();\n            }\n            /*\n            window.setTimeout(()=>{\n            console.log('gameEnd')\n            window.gameEnd && window.gameEnd()\n            parent.postMessage('complete', '*')\n            },3000)\n            */\n\n            //mraid\n            function MRaidReadyCallback() {\n                console.log('%c mraid ready','color:pink')\n                mraid.addEventListener('viewableChange', viewableChangeHandler);\n                function viewableChangeHandler(viewable) {\n                    if (viewable) {\n                    self.showPlayable();\n                    } else {\n                    self.showPlayable();\n                    //   pause\n                    }\n                }\n\n                function gameClose(){\n                    console.log('gameClose')\n                }\n            }\n\n            //dapi\n            function onReadyCallback() {\n                console.log('%c dapi ready','color:pink')\n                let screenSize;\n                dapi.removeEventListener(\"ready\", onReadyCallback);\n                if (dapi.isViewable()) {\n                    adVisibleCallback({isViewable: true});\n                }\n                dapi.getAudioVolume()\n                dapi.addEventListener(\"viewableChange\", adVisibleCallback);\n                dapi.addEventListener(\"adResized\", adResizeCallback);\n                dapi.addEventListener(\"audioVolumeChange\", adResizeCallback);\n\n                function adVisibleCallback(event) {\n                    console.log(\"isViewable \" + event.isViewable);\n                    if (event.isViewable) {\n                    screenSize = dapi.getScreenSize();   //START or RESUME the ad \n                    let volume = dapi.getAudioVolume();\n                    } else {   //PAUSE the ad and MUTE sounds \n                    }\n                }\n\n                function adResizeCallback(event) {\n                    screenSize = event;\n                    console.log(\"ad was resibuyzed width \" + event.width + \" height \" + event.height);\n                }\n            }\n        },\n        showPlayable(){\n            this.init()\n        },\n        init(){\n            let self = this\n            let {canvasWidth,canvasHeight} = this.getCanvasSize()\n            let personData = [\n                {\n                    username:'魔导师',desc:'战场支援领袖人物\\n圣术与魔法之力的强强组合'\n                },\n                {\n                    username:'烈焰火女',desc:'自如操纵烈焰的伟力\\n蕴藏着毁灭天地的超强魔力'\n                },\n                {\n                    username:'女战士',desc:'娴熟的战斗技能\\n誓死捍卫团队荣耀'\n                },\n                {\n                    username:'黑暗破坏神',desc:'致命的刺客大师\\n征讨一切暗黑之力'\n                },\n                {\n                    username:'萝莉炮台',desc:'在迷人可爱的外表下\\n蕴藏着毁灭天地的超强战斗力'\n                },\n                {\n                    username:'黄金射手',desc:'箭术精湛的精灵射手\\n致命的刺客大师'\n                }\n            ]\n            let gameScene = new Phaser.Class({\n                Extends:Phaser.Scene,\n                initialize: function GameScene(){\n                    Phaser.Scene.call(this,{key:'GameScene'})\n                    this.mainBodyX = 0.5*canvasWidth\n                    this.nextBodyX = canvasWidth + 414\n                    this.prevBodyX = -414\n                    this.personIndex = 0\n                    this.selectedNum = 0\n                    this.selectedPerson = []\n                    this.status = 'play'\n                },\n                preload:function(){\n                    let nAssets = 5\n                    let nLoaded = 0\n                    let pictureArr = [\n                        'bg',\n                        'platform',\n                        'banner_wrap',\n                        'hand',\n                        'banner_line',\n                        'end_btn',\n                        'logo'\n                    ]\n                    pictureArr.forEach(img => {\n                        this.load.image(img, `./static/dragon/${img}.png`)\n                    })\n                    this.load.audio('audio_button','./static/dragon/audio_button.mp3')\n\n                    // pictureArr.forEach(item => {\n                    //     this.textures.addBase64(item, CONFIG[item])\n                    //     nLoaded++\n                    // })\n\n                    // this.load.spritesheet('fruit','./static/luckyc/fruit.png',{frameWidth:86,frameHeight:80})\n                    // this.load.spritesheet('fruit_grey','./static/luckyc/fruit_grey.png',{frameWidth:86,frameHeight:80})\n                    let frameInfo = [\n                          {srcName: 'button_wrap', frameWidth: 100, frameHeight: 41},\n                          {srcName: 'progress', frameWidth: 260, frameHeight: 13},\n                          {srcName: 'ribbon', frameWidth: 30, frameHeight: 30},\n                          {srcName: 'body', frameWidth: 414, frameHeight: 600},\n                          {srcName: 'wing', frameWidth: 414, frameHeight: 600},\n                          {srcName: 'dragon', frameWidth: 200, frameHeight: 140},\n                          {srcName: 'end_bg', frameWidth: 414, frameHeight: 736},\n                    ]\n                    frameInfo.forEach(item => {\n                        this.load.spritesheet(item.srcName,`./static/dragon/${item.srcName}.png`,{frameWidth:item.frameWidth,frameHeight:item.frameHeight})\n                    })\n                    // frameInfo.forEach(item => {\n                    //     let shardsImg = new Image()\n                    //     shardsImg.onload = () => {\n                    //         this.textures.addSpriteSheet(item.srcName, shardsImg, {\n                    //             frameWidth: item.frameWidth,\n                    //             frameHeight: item.frameHeight\n                    //         })\n                    //         nLoaded++\n                    //         if (nLoaded >= nAssets) {\n                    //             self.assetsLoaded = true\n                    //             // let actualCreate = this.createGameObjects.bind(this)\n                    //             this.createGameObjects()\n                    //         }\n                    //     }\n                    //     shardsImg.src = `./static/${item.srcName}.png`\n                    //     // this.load.spritesheet(item.srcName,`./static/${item.srcName}.png`)\n                    // })\n                },\n                create(){\n                    this.sound = this.sound.add('audio_button')\n                    this.bg = this.add.image(0,0,'bg').setOrigin(0)//.setTint(0x444444)\n                    this.platform = this.add.image(0,0,'platform')\n                    this.main_wing = this.add.image(0,0,'wing',0)\n                    this.main_body = this.add.image(0,0,'body',0)\n                    this.next_wing = this.add.image(0,0,'wing',1)\n                    this.next_body = this.add.image(0,0,'body',1)\n                    this.button_like = this.add.sprite(0,0,'button_wrap',0)\n                    this.button_unlike = this.add.sprite(0,0,'button_wrap',1)\n                    this.progress_wrap = this.add.image(0,0,'progress',0)\n                    this.progress_inner = this.add.image(0,0,'progress',1)\n                    this.text_favor = this.add.text(0,0,'好感度',{fontSize:14,color:'#ffffff',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.text_tip = this.add.text(0,0,'选一个喜欢的人物好感度增加20%',{fontSize:14,color:'#ffffff',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.text_like = this.add.text(0,0,'喜欢',{fontSize:13,color:'#d3bd66',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.text_unlike = this.add.text(0,0,'不喜欢',{fontSize:13,color:'#d3bd66',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.banner_wrap = this.add.image(0,0,'banner_wrap')\n                    this.particles = this.add.particles('ribbon')\n                    this.progress_g = this.make.graphics()\n                    this.progress_g.fillStyle(0xff0000)\n\n                    this.bannerCont = this.add.container()\n                    this.bannerCont.add(this.banner_wrap)\n                    this.username = this.add.text(-90,-30,personData[this.personIndex]['username'],{fontSize:18,color:'#ffffff',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.userdesc = this.add.text(-90,6,personData[this.personIndex]['desc'],{fontSize:13,color:'#ffffff',fontFamily:'Arial,Black',align:'center'}).setOrigin(0.5,0)\n                    this.dragon = this.add.image(90,0,'dragon',0)\n                    this.banner_line = this.add.image(-90,-20,'banner_line')\n                    this.bannerCont.add([this.username,this.banner_line,this.userdesc,this.dragon])\n                    this.hand = this.add.image(0,0,'hand').setScale(0.8)\n\n                    this.endCont = this.add.container()\n                    this.endCont.setVisible(false)\n                    this.end_bg = this.add.image(0,0,'end_bg',0).setOrigin(0)\n                    this.end_btn_0 =this.add.container()\n                    this.end_btn_1 =this.add.container()\n                    this.word_start = this.add.text(0,1,'开始游戏',{fontSize:18,color:'#ffffff',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.word_again = this.add.text(0,1,'再玩一次',{fontSize:18,color:'#ffffff',fontFamily:'Arial,Black'}).setOrigin(0.5)\n                    this.end_btn_00 = this.add.image(0,0,'end_btn')\n                    this.end_btn_01 = this.add.image(0,0,'end_btn')\n                    this.end_btn_0.add(this.end_btn_00)\n                    this.end_btn_1.add(this.end_btn_01)\n                    this.end_btn_0.add(this.word_start)\n                    this.end_btn_1.add(this.word_again)\n                    this.logo = this.add.image(0,0,'logo')\n                    this.endMain= this.add.container()\n                    this.endCont.add([this.end_bg,this.endMain,this.end_btn_0,this.end_btn_1,this.logo])\n                    this.setClickable(this.logo)\n                    this.setClickable(this.end_btn_00)\n                    this.setClickable(this.end_btn_01)\n                    this.refreshGame()\n\n                    this.scale.on('resize',this.resize,this)\n                    this.button_like.setInteractive()\n                    this.button_like.on('pointerdown',()=>{\n                        this.handleUserSelect('like')\n                    },this)\n                    this.button_unlike.setInteractive()\n                    this.button_unlike.on('pointerdown',()=>{\n                        this.handleUserSelect('unlike')\n                    },this)\n\n                    this.start_tween = new TimelineMax({delay:0.5})\n                    this.start_tween\n                        .from([this.progress_wrap,this.progress_inner,this.text_favor],0.2,{alpha:0})\n                        .from(this.text_tip,0.2,{y:'+=20',alpha:0})\n                        .addLabel('first')\n                        .from([this.button_like,this.text_like],0.2,{x:'+=20',alpha:0},'first')\n                        .from([this.button_unlike,this.text_unlike],0.2,{x:'-=20',alpha:0},'first')\n                        .from(this.platform,0.4,{y:'+=80',alpha:0},'first')\n                        .from([this.main_body,this.main_wing],0.5,{y:'-=80',alpha:0})\n                        .from(this.bannerCont,0.2,{y:'+=40',alpha:0})\n                        .from(this.hand,0.1,{alpha:0})\n                        .to(this.hand,0.3,{y:'-=15',yoyo:true,repeat:-1,repeatDelay:0.1})\n                },\n                showEnd(){\n                    console.log('game over')\n                    this.cameras.main.fadeIn(200)\n                    this.endCont.setVisible(true)\n                    if(this.selectedNum < 5){\n                        this.end_bg.setFrame(1)\n                        this.word_again.setText('再选一次')\n                    }else{\n                        this.end_bg.setFrame(0).setTint(0x999999)\n                        this.selectedPerson.forEach((val,idx) => {\n                            let person;\n                            if(idx<2){\n                                person = this.add.image((idx-0.5)*120,0,'body',val)\n                            }else{\n                                person = this.add.image((idx-3)*100,60,'body',val)\n                            }   \n                            person.setScale(1.2)\n                            this.endMain.add(person)\n                        })\n                    }\n                    this.end_timeline = new TimelineMax({delay:0.4})\n                    this.end_timeline.from(this.logo,0.2,{y:'-=60',alpha:0})\n                        \n                    this.endMain.list.forEach(person => {\n                        this.end_timeline.from(person,0.2,{alpha:0,y:'+=60'})\n                    })\n                    this.end_timeline.from([this.end_btn_0,this.end_btn_1],0.2,{y:'+=60',alpha:0})\n                },\n                handleUserSelect(option){\n                    this.sound.play()\n                    if(this.hand.visible){\n                        this.hand.setVisible(false)\n                    }\n                    let selectedPerson = this.personIndex\n                    this.button_like.disableInteractive()\n                    this.button_unlike.disableInteractive()\n                    if(this.personIndex <=5){\n                        TweenMax.to([this.button_like,this.text_like],0.2,{x:'+=40',alpha:0})\n                        TweenMax.to([this.button_unlike,this.text_unlike],0.2,{x:'-=40',alpha:0})\n                        TweenMax.to(this.platform,0.4,{y:'+=60',alpha:0,yoyo:true,repeat:1,onComplete:()=>{\n                            // TweenMax.to([this.platform,this.main_body,this.main_wing],1.6,{y:'-=16',yoyo:true,repeat:-1,ease:'Sine.easeInOut'})\n                        }})\n                        this.personIndex++\n                        let mainEnd,nextStart;\n                        if(option == 'like'){\n                            this.selectedNum++\n                            this.selectedNum <= 5 && this.selectedPerson.push(selectedPerson)\n                            let rect = this.progress_wrap.getBounds()\n                            let sprite = this.add.sprite(this.button_like.x,this.button_like.y,'hand').setVisible(false)\n                            TweenMax.to(sprite,0.6,{x:rect.left + (this.selectedNum-1)*52 + 26,y:rect.centerY})\n                            mainEnd = this.prevBodyX\n                            nextStart = this.nextBodyX\n                            let emitter = this.particles.createEmitter({\n                                frame:[0,1,2,3,4,5],\n                                speed:300,\n                                x: 0,\n                                y: 0,\n                                quantity:5,\n                                follow: sprite,\n                                lifespan: 400 + this.selectedNum*20,\n                                scale: { start: 0.8, end: 0 },\n                                deathCallback:()=>{\n                                    this.progress_g.fillRect(rect.left,rect.top,this.selectedNum*52,30)\n                                    emitter.stop()\n                                    sprite.destroy()\n                                }\n                            })\n                        }else{\n                            // TweenMax.fromTo([this.button_unlike,this.text_unlike],0.2,{alpha:1},{alpha:0.7,yoyo:true,repeat:1})\n                            mainEnd = this.nextBodyX\n                            nextStart = this.prevBodyX\n                        }\n                        if(this.personIndex <= 5){\n                            TweenMax.fromTo([this.username,this.banner_line,this.dragon,this.userdesc],0.2,{alpha:1},{alpha:0,yoyo:true,repeat:1,onRepeat:()=>{\n                                this.username.setText(personData[this.personIndex]['username'])\n                                this.userdesc.setText(personData[this.personIndex]['desc'])\n                                this.dragon.setFrame(this.personIndex)\n                            }}) \n                            TweenMax.fromTo([this.main_body,this.main_wing],0.6,{delay:0.2,x:this.mainBodyX},{x:mainEnd,ease:'Sine.easeOut',onComplete:()=>{\n                                this.main_body.setFrame(this.personIndex)\n                                this.main_wing.setFrame(this.personIndex)\n                                TweenMax.to([this.button_like,this.text_like],0.2,{x:'-=40',alpha:1})\n                                TweenMax.to([this.button_unlike,this.text_unlike],0.2,{x:'+=40',alpha:1})\n                                if(this.status!='end'){\n                                    this.button_like.setInteractive()\n                                    this.button_unlike.setInteractive()\n                                }\n                            }})\n                            TweenMax.fromTo([this.next_body,this.next_wing],0.6,{delay:0.2,x:nextStart},{x:this.mainBodyX,ease:'Sine.easeOut',onStart:()=>{\n                                // this.main_wing.y=0.46*canvasHeight\n                                // this.main_body.y=0.46*canvasHeight\n                                // this.next_wing.y=0.46*canvasHeight\n                                // this.next_body.y=0.46*canvasHeight\n                                // this.yoyoTween && this.yoyoTween.kill()\n                                this.next_body.setFrame(this.personIndex)\n                                this.next_wing.setFrame(this.personIndex)\n                                 \n                            }})\n                        }\n                        if(this.selectedNum == 5 || this.personIndex > 5){\n                            this.button_like.disableInteractive()\n                            this.button_unlike.disableInteractive()\n                            this.status = 'end'\n                            this.time.delayedCall(1600,this.showEnd.bind(this))\n                        }\n                    } \n                },\n                update(t,delta){\n\n                },\n                resize(gameSize){\n                    this.cameras.resize(canvasWidth, canvasHeight);\n                    this.refreshGame()\n                },\n                refreshGame(){\n                    this.mainBodyX = 0.5*canvasWidth\n                    this.nextBodyX = canvasWidth + 414\n                    let cw = canvasWidth,ch = canvasHeight;\n                    let isLand = self.isLandscape\n                    this.bg.setPosition(0,0)\n                    this.bg.setDisplaySize(cw,isLand?cw/414*736:ch)\n                    this.main_wing.setPosition(0.5*cw,0.46*ch)\n                    this.main_body.setPosition(0.5*cw,0.46*ch)\n                    this.next_wing.setPosition(cw+414,0.46*ch)\n                    this.next_body.setPosition(cw+414,0.46*ch)\n                    this.button_like.setPosition(0.86*cw,0.46*ch)\n                    this.button_unlike.setPosition(0.14*cw,0.46*ch)\n                    this.progress_wrap.setPosition(0.5*cw + 30,0.06*ch)\n                    this.progress_inner.setPosition(0.5*cw + 30,0.06*ch)\n                    this.text_favor.setPosition(this.progress_wrap.x - 160,this.progress_wrap.y)\n                    this.platform.setPosition(0.5*cw,0.46*ch + 210)\n                    this.text_like.setPosition(this.button_like.x,this.button_like.y)\n                    this.text_unlike.setPosition(this.button_unlike.x,this.button_unlike.y)\n                    this.bannerCont.setPosition(0.5*cw,0.88*ch)\n                    this.text_tip.setPosition(this.progress_wrap.x,this.progress_wrap.y+24)\n                    this.hand.setPosition(this.button_like.x + 20,this.button_like.y + 80)\n\n                    this.progress_g.beginPath()\n                    this.progress_g.fillRect(this.progress_wrap.x - 130,this.progress_wrap.y - 15,this.selectedNum*52,30)\n                    this.progress_inner.setMask(this.progress_g.createGeometryMask())\n\n                    this.end_bg.setPosition(0,0)\n                    this.end_bg.setDisplaySize(cw,isLand?cw/414*736:ch)\n                    this.end_btn_0.setPosition(0.5*cw,0.74*ch)\n                    this.end_btn_1.setPosition(0.5*cw,0.74*ch+80)\n                    this.logo.setPosition(0.5*cw,0.1*ch)\n                    this.endMain.setPosition(0.5*cw,0.45*ch)\n                },\n                setClickable(item){\n                    item.setInteractive()\n                    item.on('pointerdown',()=>{\n                        this.sound.play()\n                        TweenMax.fromTo(item,0.1,{alpha:1},{alpha:0.7,yoyo:true,repeat:1})\n                    })\n                    item.on('pointerup',()=>{\n                        self.linkAppStore()\n                    })\n                }\n            })\n\n            let _config = {\n                type: Phaser.AUTO,\n                parent:'canvas',\n                scale:{\n                    width:canvasWidth,\n                    height:canvasHeight,\n                    scale:Phaser.Scale.None,\n                    autoCenter:1,\n                },\n                scene:[gameScene],\n                pixelArt: true,\n                backgroundColor:\"#000000\"\n            }\n            \n            let game = new Phaser.Game(_config)\n            window.addEventListener('resize',()=>{\n                canvasWidth = this.getCanvasSize().canvasWidth\n                canvasHeight = this.getCanvasSize().canvasHeight\n                game.scale.resize(canvasWidth,canvasHeight)\n            },false)\n\n    \n        },\n        getCanvasSize() {\n            let w = document.body.clientWidth\n            let h = document.body.clientHeight\n            let layoutWidth, layoutHeight;\n            let gameRatio\n            let canvasWidth, canvasHeight\n            if (w <= h) {\n                layoutWidth = 414\n                layoutHeight = 736\n                gameRatio = layoutWidth / layoutHeight\n                this.isLandscape = false\n                //  竖版\n                if (w / h >= gameRatio) {\n                    //保证高度上全部可见\n                    canvasHeight = layoutHeight, canvasWidth = layoutHeight * w / h\n                } else {\n                    //保证宽度上全部可见\n                    canvasHeight = layoutWidth / w * h, canvasWidth = layoutWidth\n                }\n            } else {\n                layoutWidth = 496\n                layoutHeight = 883\n                gameRatio = layoutWidth / layoutHeight\n                this.isLandscape = true\n                // 横版\n                if (h / w >= gameRatio) {\n                    //保证宽度上全部可见\n                    canvasWidth = layoutHeight, canvasHeight = layoutHeight / w * h\n                } else {\n                    //保证高度上全部可见\n                    canvasWidth = layoutWidth / h * w, canvasHeight = layoutWidth\n                }\n            }\n            console.log(`%c canvasWidth:${~~canvasWidth} | canvasHeight:${~~canvasHeight} `, 'background:#4682B4;color:white;line-height:18px')\n            return {canvasWidth, canvasHeight}\n        },\n        linkAppStore() {\n            let url = this.userAgent === 'ios' ? this.iosUrl : this.androidUrl\n            let platform = ''\n            parent.postMessage('download', '*')\n            platform = 'vungle'\n            window.install && window.install()//mintegral\n            window.openAppStore && window.openAppStore()//toutiao\n            if (typeof dapi !== 'undefined') {\n            dapi.openStoreUrl()\n            platform = 'ironsource'\n            } else if (typeof FbPlayableAd !== 'undefined') {\n            FbPlayableAd.onCTAClick()\n            platform = 'facebook'\n            } else if (typeof mraid !== 'undefined') {\n            mraid.open(url)\n            platform = 'mraid'\n            } else {\n            window.location = url\n            platform = 'pc'\n            }\n            console.log(`%c Platform:${platform} >>> open store`, 'color:blue')\n        },\n    }  \n}\n</script>\n\n<style lang=\"scss\">\n*{\n    margin:0;\n    padding:0;\n}\nhtml,body,#main,#canvas{\n    width:100%;\n    height:100%;\n}\n#canvas > canvas {\n    width: 100% !important;\n    height: 100% !important;\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/DragonStorm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"}},[_c('div',{attrs:{\"id\":\"canvas\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52bec2ca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DragonStorm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52bec2ca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DragonStorm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DragonStorm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DragonStorm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52bec2ca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DragonStorm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DragonStorm.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './components/DragonStorm'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}